# 🎬 AI短剧剧本生成器

一个基于AI的短剧剧本生成工具，能将一句话创意转化为抓马、狗血、快节奏的短剧剧本片段。

## ✨ 核心特性

- 🚀 **一键生成**：输入创意，立即生成结构完整的短剧剧本
- 🎭 **抓马风格**：专门调教的Prompt，让AI写出"爽文"、"狗血"感的短剧
- 📝 **结构化输出**：自动包含【场景】【角色设定】【剧本正文】【核心反转点/爽点】
- 💬 **流式输出**：实时展示生成过程，打字机效果
- 📚 **预设模板**：内置"赘婿逆袭"、"真假千金"、"霸总追妻"等热门套路

## 🎯 适用场景

- 短剧编剧快速创作
- 抖音/快手短视频脚本
- 微短剧剧本灵感激发
- 爽文/网文场景扩写

## 📦 安装依赖

```bash
pip install -r requirements.txt
```

## 🔧 配置说明

项目默认使用通义千问 GLM-4.7 API。

### 使用环境变量（推荐）

```bash
export DASHSCOPE_API_KEY="your-api-key-here"
```

### 或直接修改代码

编辑 `generator.py` 文件，修改 API Key：

```python
API_KEY = "your-api-key-here"  # 替换为你的API Key
```

## 🚀 运行项目

### 启动 Web 界面（推荐）

```bash
streamlit run app.py
```

浏览器会自动打开 `http://localhost:8501`

### 命令行测试

```bash
python generator.py
```

## 📝 使用方法

### Web 界面使用

1. 在输入框中描述你的短剧创意
2. 或从侧边栏选择预设模板
3. 点击"🎬 生成剧本"按钮
4. 等待AI生成剧本（流式输出可实时查看）

### 示例创意

**输入：**
```
男主是个送外卖的，在老婆的家族聚会上被丈母娘百般羞辱，要求离婚。此时本市首富突然推门进来，对着男主单膝跪地。
```

**输出示例：**
```
【场景】
豪华包厢内，气氛剑拔弩张。

【角色设定】
- 男主（林辰）：隐忍、淡定
- 丈母娘（王芳）：势利眼、尖酸刻薄
- 首富（马腾）：西装革履，满脸敬畏

【剧本正文】
*(王芳将一杯水直接泼在林辰脚边，满脸不屑)*
**王芳**（尖锐）：就你个送外卖的废物，也想赖在我们家？今天这婚你离也得离，不离也得离！

**林辰**（擦了擦水渍，冷笑）：妈，三十年河东三十年河西，你别后悔。

*(砰的一声，包厢大门被踹开，本市首富马腾急匆匆冲进来，全场震惊。马腾无视众人，径直走向林辰，扑通一声单膝跪地)*

**马腾**（声音发颤）：龙尊！百亿投资合同已备好，请您签字！

【核心反转点/爽点】
首富下跪，丈母娘的表情从嚣张瞬间变成惊恐。
```

## 📊 项目结构

```
ai-short-drama-generator/
├── app.py              # Streamlit Web 界面
├── generator.py        # 核心生成引擎
├── prompts.py          # Prompt 设计
├── requirements.txt    # 依赖列表
├── .env.example        # 环境变量示例
└── README.md          # 项目文档
```

## 🎭 预设模板

项目内置了5个热门短剧套路模板：

1. **赘婿逆袭**：被家族看不起的赘婿，被黑道大佬跪拜
2. **真假千金**：被抱错的假千金，归来时打脸真千金
3. **霸总追妻**：被误会的前妻，归来时成为顶级设计师
4. **豪门弃子**：被赶出家门，归来时成为百亿投资人
5. **师姐的秘密**：高冷师姐看不起的学弟，其实是顶级财阀继承人

## 🚨 常见问题

### Q: 生成的剧本不够"抓马"怎么办？
A: 尝试在创意中加入更多具体的情绪描述，例如："丈母娘当场泼茶羞辱"、"男主冷笑说三年河东三年河西"等。

### Q: 如何更换其他AI模型？
A: 编辑 `generator.py` 文件，修改 `model` 参数和 `base_url`。

### Q: API 调用失败怎么办？
A: 检查 API Key 是否正确、是否有足够的调用额度、网络连接是否正常。

## 🔧 技术栈

- **Python**: 主要开发语言
- **Streamlit**: Web界面框架
- **通义千问 GLM-4.7**: AI模型

## 📄 License

MIT License

## 🎉 致谢

感谢通义千问提供强大的AI能力支持！

---

**🎬 这里的每一个剧本都"抓马"到让你上头！**

*最后更新: 2026年2月25日*